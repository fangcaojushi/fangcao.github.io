

$(function() {
	var hweekwf = echarts.init(document.getElementById("hweekwf"));
	var hourData = [];
		for (var i = 0; i < 24; i++) {
		   hourData[i]=i;
		}
			
		model = {
		    yCates: ['其它', '超速', '逆行',
		            '违停', '两客一危', '闯红灯'],
		    xCates: hourData,
		    data: [
		        // [yCateIndex, xCateIndex, value]
		        [5,0,27],[5,1,5],[5,2,15],[5,3,18],[5,4,45],[5,5,15],[5,6,48],[5,7,150],[5,8,18],[5,9,18],[5,10,25],[5,11,48],[5,12,18],[5,13,28],[5,14,19],[5,15,18],[5,16,12],[5,17,19],[5,18,2],[5,19,12],[5,20,10],[5,21,10],[5,22,3],[5,23,5],
		        [1,0,3],[1,1,1],[1,2,3],[1,3,8],[1,4,45],[1,5,35],[1,6,128],[1,7,150],[1,8,280],[1,9,328],[1,10,25],[1,11,48],[1,12,18],[1,13,28],[1,14,392],[1,15,18],[1,16,12],[1,17,109],[1,18,2],[1,19,12],[1,20,10],[1,21,10],[1,22,5],[1,23,2],
		        [2,0,6],[2,1,5],[2,2,13],[2,3,18],[2,4,45],[2,5,15],[2,6,48],[2,7,150],[2,8,180],[2,9,218],[2,10,25],[2,11,48],[2,12,18],[2,13,28],[2,14,192],[2,15,18],[2,16,12],[2,17,91],[2,18,2],[2,19,12],[2,20,10],[2,21,10],[2,22,4],[2,23,3],
		        [3,0,27],[3,1,5],[3,2,15],[3,3,18],[3,4,45],[3,5,15],[3,6,48],[3,7,150],[3,8,180],[3,9,218],[3,10,25],[3,11,48],[3,12,18],[3,13,28],[3,14,92],[3,15,18],[3,16,12],[3,17,19],[3,18,2],[3,19,12],[3,20,10],[3,21,10],[3,22,9],[3,23,3],
		        [4,0,27],[4,1,5],[4,2,15],[4,3,18],[4,4,45],[4,5,15],[4,6,48],[4,7,150],[4,8,180],[4,9,218],[4,10,25],[4,11,48],[4,12,18],[4,13,28],[4,14,32],[4,15,18],[4,16,12],[4,17,39],[4,18,2],[4,19,12],[4,20,10],[4,21,10],[4,22,12],[4,23,2],
		        [0,0,27],[0,1,5],[0,2,15],[0,3,18],[0,4,45],[0,5,15],[0,6,48],[0,7,150],[0,8,180],[0,9,218],[0,10,25],[0,11,48],[0,12,18],[0,13,328],[0,14,192],[0,15,18],[0,16,12],[0,17,191],[0,18,2],[0,19,12],[0,20,10],[0,21,10],[0,22,1],[0,23,3]
		    ]
		};
		
		data = model.data.map(function (item) {
		    return [item[1], item[0], item[2] || '-'];
		});
		
		hweekwfopt = {
		    tooltip: {
		        position: 'top'
		    },
		    animation: false,
		    grid: {
				x: 180,
				x2: 40,
				y2: 24
			},
		    xAxis: {
		        type: 'category',
		        data: model.xCates
		    },
		    yAxis: {
		        type: 'category',
		        data: model.yCates
		    },
		    visualMap: {
//		    		color:['#ED5565','#5facdb', '#F7B516', '#24CBE5', '#DDDF00', '#64E572', '#FF9655', '#54b68d', '#6AF9C4'],
		    		color:['#ED5565','#1DE7D3'],
		        min: 0,
		        max: 400,
		        calculable: true,
		        orient: 'vertical',
		        left: '0',
		        top: '30%'
		    },
		    series: [{
		        name: '违法数量',
		        type: 'heatmap',
		        data: data,
		        label: {
		            normal: {
		                show: true,
		                color:'#cccccc'
		            }
		        },
		        itemStyle: {
		            emphasis: {
		                shadowBlur: 10,
		                shadowColor: 'rgba(0, 0, 0, 0.5)'
		            }
		        }
		    }]
		};

	hweekwf.setOption(hweekwfopt), $(window).resize(hweekwf.resize);
})